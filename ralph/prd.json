{
  "project": "Tap",
  "branchName": "ralph/template-visual-qa",
  "description": "Template Visual QA & Design Enhancement - Playwright-based visual testing for all templates with comprehensive design improvements",
  "userStories": [
    {
      "id": "US-001",
      "title": "Install Playwright and create test directory structure",
      "description": "As a developer, I need Playwright installed and configured so we can automate visual testing.",
      "acceptanceCriteria": [
        "Install @playwright/test as dev dependency in frontend/package.json",
        "Create playwright.config.ts with 1920x1080 viewport and chromium only",
        "Create tests/visual/ directory structure",
        "Add 'test:visual' script to frontend/package.json",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Create basic Playwright test that starts tap dev and takes a screenshot",
      "description": "As a developer, I need a working test that starts tap dev in headless mode and captures a screenshot.",
      "acceptanceCriteria": [
        "Test starts tap dev --headless for examples/basic.md on a dynamic port",
        "Test waits for server to be ready (HTTP 200 on localhost)",
        "Test opens browser and navigates to presentation",
        "Test captures one screenshot at 1920x1080",
        "Test stops tap dev server after completion",
        "Screenshot saved to tests/visual/screenshots/",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Implement slide navigation and multi-slide screenshot capture",
      "description": "As a developer, I need the test to navigate through all slides and capture each one.",
      "acceptanceCriteria": [
        "Test fetches /api/presentation to get total slide count",
        "Test navigates slides using ArrowRight key press",
        "Screenshot captured for each slide with naming: {template}-slide-{number}.png",
        "Test handles presentations with varying slide counts",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Add fragment state screenshot capture",
      "description": "As a developer, I need the test to capture screenshots at each fragment/pause point.",
      "acceptanceCriteria": [
        "Test detects slides with multiple fragments from API response",
        "Test presses ArrowRight to advance through fragments",
        "Screenshot captured at each fragment state: {template}-slide-{number}-frag-{index}.png",
        "Final fragment state matches total slide screenshot",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Add console error detection and reporting",
      "description": "As a developer, I need the test to detect and report any console errors during rendering.",
      "acceptanceCriteria": [
        "Test listens for console errors via page.on('console')",
        "Test listens for page errors via page.on('pageerror')",
        "Errors collected with template name, slide number, and error message",
        "Test fails if any errors are detected",
        "Error summary printed at end of test run",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Create test runner that iterates all example templates",
      "description": "As a developer, I need the test to run against all markdown files in examples/ folder.",
      "acceptanceCriteria": [
        "Test discovers all .md files in examples/ directory",
        "Test runs screenshot capture for each template sequentially",
        "Each template uses unique port to avoid conflicts",
        "Screenshots organized by template name in output directory",
        "Summary shows total templates processed and any failures",
        "Typecheck passes"
      ],
      "priority": 6,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Generate HTML gallery report",
      "description": "As a developer, I need an HTML gallery that displays all captured screenshots.",
      "acceptanceCriteria": [
        "HTML report generated after test run completes",
        "Report shows screenshots organized by template",
        "Each screenshot shows template name, slide number, fragment info",
        "Report includes summary stats (total templates, slides, errors)",
        "Report uses relative paths to screenshots",
        "Report saved to tests/visual/gallery/index.html",
        "Typecheck passes"
      ],
      "priority": 7,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Improve Paper theme typography and spacing",
      "description": "As a designer, I want the Paper theme to have refined typography and spacing for a polished look.",
      "acceptanceCriteria": [
        "Title slide: increase title size, add letter-spacing for impact",
        "Body text: ensure comfortable line-height (1.5-1.6)",
        "Code blocks: refine padding, border-radius, and background contrast",
        "Lists: improve bullet styling and item spacing",
        "Headings: add subtle letter-spacing and weight adjustments",
        "Typecheck passes",
        "Verify in browser using dev-browser skill - theme-paper.md looks polished"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Improve Noir theme depth and elegance",
      "description": "As a designer, I want the Noir theme to have cinematic depth and elegant gold accents.",
      "acceptanceCriteria": [
        "Background: use subtle gradient or texture instead of flat black",
        "Gold accents: refine to be elegant, not overwhelming",
        "Typography: ensure excellent contrast against dark background",
        "Code blocks: dark aesthetic that integrates seamlessly",
        "Add subtle shadows or glows for depth where appropriate",
        "Typecheck passes",
        "Verify in browser using dev-browser skill - theme-noir.md looks polished"
      ],
      "priority": 9,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Improve Aurora theme gradients and glassmorphism",
      "description": "As a designer, I want the Aurora theme to have beautiful gradients and modern glassmorphism.",
      "acceptanceCriteria": [
        "Gradient backgrounds: smooth, visually appealing transitions",
        "Glassmorphism: subtle backdrop-blur effects that enhance readability",
        "Text: highly readable against gradient backgrounds (add text-shadow if needed)",
        "Code blocks: work well with colorful aesthetic",
        "Transitions: cohesive and smooth",
        "Typecheck passes",
        "Verify in browser using dev-browser skill - theme-aurora.md looks polished"
      ],
      "priority": 10,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Improve Phosphor theme CRT authenticity",
      "description": "As a designer, I want the Phosphor theme to have authentic but comfortable CRT aesthetics.",
      "acceptanceCriteria": [
        "Green phosphor color: authentic but not harsh on eyes (consider slight desaturation)",
        "CRT effects: subtle scanlines or glow that enhance without distracting",
        "Monospace typography: well-balanced sizing and spacing",
        "Code blocks: feel native to terminal aesthetic",
        "Add subtle text-shadow glow for authenticity",
        "Typecheck passes",
        "Verify in browser using dev-browser skill - theme-phosphor.md looks polished"
      ],
      "priority": 11,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Improve Poster theme boldness and impact",
      "description": "As a designer, I want the Poster theme to make bold visual statements with artistic flair.",
      "acceptanceCriteria": [
        "Typography: bold, impactful sizing and weights",
        "Color palette: vibrant but harmonious",
        "Layout spacing: supports the bold aesthetic with generous margins",
        "Visual hierarchy: clear despite bold styling",
        "Code blocks: readable within artistic style",
        "Typecheck passes",
        "Verify in browser using dev-browser skill - theme-poster.md looks polished"
      ],
      "priority": 12,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-013",
      "title": "Improve core layouts.css typography hierarchy",
      "description": "As a developer, I want the core layout styles to have better typography defaults.",
      "acceptanceCriteria": [
        "Title layout: impactful title sizing with appropriate letter-spacing",
        "Section headers: prominent with good visual weight",
        "Body text: comfortable reading at presentation scale (2rem+)",
        "Code blocks: consistent sizing across layouts",
        "Blockquotes: refined, elegant styling with proper attribution",
        "Typecheck passes",
        "Verify improvements visible across multiple themes"
      ],
      "priority": 13,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-014",
      "title": "Improve core layouts.css spacing and rhythm",
      "description": "As a developer, I want the core layout styles to have better spacing and visual rhythm.",
      "acceptanceCriteria": [
        "Slide padding: comfortable margins from edges (4-6rem)",
        "Vertical rhythm: consistent spacing between elements",
        "Column layouts: balanced gaps in two-column and three-column",
        "Lists: proper indentation and item spacing",
        "Big-stat layout: dramatic centered presence with breathing room",
        "Quote layout: elegant whitespace framing",
        "Typecheck passes",
        "Verify improvements visible across multiple themes"
      ],
      "priority": 14,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-015",
      "title": "Refine Mermaid diagram theme integration",
      "description": "As a developer, I want Mermaid diagrams to look native within each theme.",
      "acceptanceCriteria": [
        "Review and refine getMermaidTheme() mappings for all 5 themes",
        "Diagram colors complement slide theme appropriately",
        "Diagram text readable at presentation scale",
        "Error states styled consistently with theme error colors",
        "Typecheck passes",
        "Verify diagrams in theme example files look polished"
      ],
      "priority": 15,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-016",
      "title": "Refine code block syntax highlighting per theme",
      "description": "As a developer, I want code blocks to have refined highlighting that matches each theme.",
      "acceptanceCriteria": [
        "Review Shiki theme mappings in highlighting.ts",
        "Ensure highlighting theme complements each tap theme",
        "Line numbers subtle but readable",
        "Code font size readable at presentation distance",
        "Line highlighting stands out appropriately",
        "Typecheck passes",
        "Verify code blocks in code-demo.md look polished"
      ],
      "priority": 16,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-017",
      "title": "Review and polish example template content",
      "description": "As a content creator, I want example templates to showcase tap's capabilities effectively.",
      "acceptanceCriteria": [
        "basic.md: demonstrates fundamentals clearly with good slide design",
        "code-demo.md: showcases code features with well-chosen examples",
        "sql-demo.md: demonstrates SQL capabilities effectively",
        "Theme templates: each showcases its theme's strengths",
        "Content is free of typos and formatting issues",
        "Typecheck passes"
      ],
      "priority": 17,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-018",
      "title": "Run final visual QA pass and generate gallery",
      "description": "As a QA engineer, I want to run the complete test suite and verify all templates pass.",
      "acceptanceCriteria": [
        "Run test:visual command successfully",
        "All templates render without console errors",
        "Visual gallery report generated with all screenshots",
        "All 5 themes look polished in gallery review",
        "All layouts render correctly across themes",
        "Mermaid diagrams render correctly in all themes",
        "Code blocks highlight correctly in all themes",
        "Typecheck passes"
      ],
      "priority": 18,
      "passes": false,
      "notes": ""
    }
  ]
}
