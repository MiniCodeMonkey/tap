/**
 * Keynote Theme
 * Professional, polished design inspired by presentation software.
 * Features subtle shadows, refined typography, and elegant spacing.
 */

/* ============================================================================
 * Theme Variables
 * ============================================================================ */

.theme-keynote {
	/* Colors - Professional, warm palette */
	--slide-bg: #f5f5f7;
	--text-color: #1d1d1f;
	--muted-color: #86868b;
	--accent-color: #0071e3;
	--link-color: #0071e3;
	--border-color: rgba(0, 0, 0, 0.08);

	/* Card/elevated surfaces */
	--card-bg: #ffffff;
	--card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 1px 3px rgba(0, 0, 0, 0.04);
	--card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12),
		0 2px 6px rgba(0, 0, 0, 0.06);

	/* Code colors */
	--code-bg: rgba(0, 0, 0, 0.04);
	--pre-bg: #1d1d1f;
	--pre-color: #f5f5f7;

	/* Table colors */
	--table-header-bg: rgba(0, 0, 0, 0.03);
	--table-stripe-bg: rgba(0, 0, 0, 0.015);

	/* Typography - San Francisco / System fonts */
	--font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display',
		'SF Pro Text', 'Helvetica Neue', Arial, sans-serif;
	--mono-font-family: 'SF Mono', Monaco, 'Cascadia Code', Menlo, Consolas,
		'Liberation Mono', monospace;

	/* Font sizes - same scale as other themes */
	--title-font-size: 8rem;
	--h1-font-size: 6rem;
	--h2-font-size: 4rem;
	--h3-font-size: 2.5rem;
	--body-font-size: 2rem;
	--code-font-size: 1.5rem;
	--subtitle-font-size: 2.5rem;
	--section-font-size: 5rem;
	--quote-font-size: 3rem;
	--quote-attribution-size: 1.5rem;
	--stat-font-size: 12rem;
	--stat-label-size: 2rem;
	--table-font-size: 1.75rem;

	/* Spacing */
	--slide-padding: 80px;
	--content-gap: 24px;
	--column-gap: 48px;

	/* Animation timing - smooth, professional */
	--transition-duration: 350ms;
	--transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
	--fragment-duration: 300ms;

	/* Apply base typography */
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--slide-bg);
}

/* ============================================================================
 * Base Typography - Refined and elegant
 * ============================================================================ */

.theme-keynote h1,
.theme-keynote h2,
.theme-keynote h3,
.theme-keynote h4,
.theme-keynote h5,
.theme-keynote h6 {
	font-family: var(--font-family);
	font-weight: 600;
	letter-spacing: -0.025em;
	line-height: 1.1;
	margin: 0;
}

.theme-keynote h1 {
	font-weight: 700;
}

.theme-keynote p,
.theme-keynote li {
	font-family: var(--font-family);
	font-weight: 400;
	letter-spacing: -0.01em;
	line-height: 1.5;
}

.theme-keynote strong {
	font-weight: 600;
}

.theme-keynote em {
	font-style: italic;
}

/* ============================================================================
 * Code Styling - Clean, elevated
 * ============================================================================ */

.theme-keynote code {
	font-family: var(--mono-font-family);
	background-color: var(--code-bg);
	padding: 0.15em 0.4em;
	border-radius: 6px;
	font-size: 0.9em;
}

.theme-keynote pre {
	font-family: var(--mono-font-family);
	background-color: var(--pre-bg);
	color: var(--pre-color);
	padding: 1.5em 2em;
	border-radius: 16px;
	overflow-x: auto;
	line-height: 1.5;
	box-shadow: var(--card-shadow);
}

.theme-keynote pre code {
	background: none;
	padding: 0;
	border-radius: 0;
	font-size: inherit;
}

/* ============================================================================
 * Links - Subtle and professional
 * ============================================================================ */

.theme-keynote a {
	color: var(--link-color);
	text-decoration: none;
	transition: opacity var(--transition-duration) var(--transition-timing);
}

.theme-keynote a:hover {
	opacity: 0.8;
	text-decoration: underline;
}

/* ============================================================================
 * Lists - Clean with subtle markers
 * ============================================================================ */

.theme-keynote ul,
.theme-keynote ol {
	padding-left: 1.25em;
	margin: 0;
}

.theme-keynote li {
	margin-bottom: 0.6em;
}

.theme-keynote li::marker {
	color: var(--accent-color);
}

/* ============================================================================
 * Blockquotes - Elevated card style
 * ============================================================================ */

.theme-keynote blockquote {
	background-color: var(--card-bg);
	box-shadow: var(--card-shadow);
	border-radius: 16px;
	border-left: 4px solid var(--accent-color);
	padding: 1.5em 2em;
	margin: 0;
	font-style: italic;
}

.theme-keynote blockquote p:first-child {
	margin-top: 0;
}

.theme-keynote blockquote p:last-child {
	margin-bottom: 0;
}

/* ============================================================================
 * Tables - Clean, modern
 * ============================================================================ */

.theme-keynote table {
	width: 100%;
	border-collapse: collapse;
	font-size: var(--table-font-size);
	background-color: var(--card-bg);
	border-radius: 12px;
	overflow: hidden;
	box-shadow: var(--card-shadow);
}

.theme-keynote th,
.theme-keynote td {
	padding: 0.85em 1.25em;
	text-align: left;
	border-bottom: 1px solid var(--border-color);
}

.theme-keynote th {
	font-weight: 600;
	background-color: var(--table-header-bg);
}

.theme-keynote tbody tr:nth-child(even) {
	background-color: var(--table-stripe-bg);
}

.theme-keynote tr:last-child td {
	border-bottom: none;
}

/* ============================================================================
 * Images - Subtle shadow, rounded
 * ============================================================================ */

.theme-keynote img {
	max-width: 100%;
	height: auto;
	border-radius: 12px;
	box-shadow: var(--card-shadow);
}

/* ============================================================================
 * Cards - Elevated surface utility
 * ============================================================================ */

.theme-keynote .card {
	background-color: var(--card-bg);
	box-shadow: var(--card-shadow);
	border-radius: 16px;
	padding: 2em;
	transition: box-shadow var(--transition-duration) var(--transition-timing);
}

.theme-keynote .card:hover {
	box-shadow: var(--card-shadow-hover);
}

/* ============================================================================
 * Layout-specific overrides
 * ============================================================================ */

/* Title layout - Clean and impactful */
.theme-keynote .layout-title h1 {
	font-size: var(--title-font-size);
	font-weight: 700;
	letter-spacing: -0.035em;
	background: linear-gradient(135deg, var(--text-color) 0%, #4a4a4a 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.theme-keynote .layout-title p {
	font-size: var(--subtitle-font-size);
	color: var(--muted-color);
	font-weight: 400;
	margin-top: 0.75em;
}

/* Section layout */
.theme-keynote .layout-section h2 {
	font-size: var(--section-font-size);
	font-weight: 600;
	letter-spacing: -0.025em;
}

/* Quote layout - Elegant presentation */
.theme-keynote .layout-quote blockquote {
	font-size: var(--quote-font-size);
	padding: 2.5em 3em;
	border-left-width: 5px;
	position: relative;
}

.theme-keynote .layout-quote blockquote::before {
	content: '\201C';
	font-size: 6rem;
	position: absolute;
	top: 0.1em;
	left: 0.5em;
	color: var(--accent-color);
	opacity: 0.15;
	font-family: Georgia, 'Times New Roman', serif;
}

.theme-keynote .layout-quote blockquote p:last-child {
	font-size: var(--quote-attribution-size);
	font-style: normal;
	color: var(--muted-color);
	margin-top: 1.5em;
}

/* Code focus layout */
.theme-keynote .layout-code-focus pre {
	font-size: calc(var(--code-font-size) * 1.1);
	max-height: 75vh;
	overflow-y: auto;
}

/* Big stat layout - Clean impact */
.theme-keynote .layout-big-stat strong,
.theme-keynote .layout-big-stat .stat-number {
	font-size: var(--stat-font-size);
	font-weight: 700;
	color: var(--accent-color);
	line-height: 1;
	letter-spacing: -0.05em;
}

.theme-keynote .layout-big-stat p {
	font-size: var(--stat-label-size);
	color: var(--muted-color);
	font-weight: 400;
}

/* Two column layout */
.theme-keynote .layout-two-column {
	position: relative;
}

/* Three column layout */
.theme-keynote .layout-three-column {
	position: relative;
}

/* ============================================================================
 * Dark variant
 * ============================================================================ */

.theme-keynote.dark {
	--slide-bg: #1d1d1f;
	--text-color: #f5f5f7;
	--muted-color: #86868b;
	--border-color: rgba(255, 255, 255, 0.1);
	--card-bg: #2c2c2e;
	--card-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.2);
	--card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.4),
		0 2px 6px rgba(0, 0, 0, 0.25);
	--code-bg: rgba(255, 255, 255, 0.08);
	--pre-bg: #000000;
	--pre-color: #f5f5f7;
	--table-header-bg: rgba(255, 255, 255, 0.05);
	--table-stripe-bg: rgba(255, 255, 255, 0.02);
}

/* ============================================================================
 * Blue gradient variant
 * ============================================================================ */

.theme-keynote.blue-gradient {
	--slide-bg: linear-gradient(180deg, #1d1d1f 0%, #0a2540 100%);
	--text-color: #f5f5f7;
	--muted-color: rgba(255, 255, 255, 0.6);
	--border-color: rgba(255, 255, 255, 0.1);
	--card-bg: rgba(255, 255, 255, 0.08);
	--card-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
	--accent-color: #00d4ff;
	background: linear-gradient(180deg, #1d1d1f 0%, #0a2540 100%);
}

/* ============================================================================
 * Transition defaults
 * The keynote theme uses fade as the default - smooth and professional
 * ============================================================================ */

.theme-keynote .slide-renderer {
	transition: opacity var(--transition-duration) var(--transition-timing);
}

/* ============================================================================
 * Reduced motion support
 * ============================================================================ */

@media (prefers-reduced-motion: reduce) {
	.theme-keynote {
		--transition-duration: 0ms;
		--fragment-duration: 0ms;
	}

	.theme-keynote .slide-renderer {
		transition: none;
	}

	.theme-keynote .card {
		transition: none;
	}
}

/* ============================================================================
 * Fragment styling - Smooth entrance
 * ============================================================================ */

.theme-keynote .fragment {
	transition: opacity var(--fragment-duration) var(--transition-timing),
		transform var(--fragment-duration) var(--transition-timing);
}

.theme-keynote .fragment-hidden {
	opacity: 0;
	transform: translateY(16px);
}

.theme-keynote .fragment-visible {
	opacity: 1;
	transform: translateY(0);
}

/* ============================================================================
 * Progress bar styling - Subtle, elegant
 * ============================================================================ */

.theme-keynote .progress-bar {
	background-color: var(--accent-color);
	height: 3px;
	transition: width var(--transition-duration) var(--transition-timing);
	border-radius: 2px;
}

.theme-keynote .progress-bar-container {
	background-color: var(--border-color);
	border-radius: 2px;
}

/* ============================================================================
 * Selection styling
 * ============================================================================ */

.theme-keynote ::selection {
	background-color: var(--accent-color);
	color: #ffffff;
}

/* ============================================================================
 * Utility classes for keynote effects
 * ============================================================================ */

/* Gradient text effect */
.theme-keynote .gradient-text {
	background: linear-gradient(
		90deg,
		var(--accent-color) 0%,
		#00c7be 50%,
		var(--accent-color) 100%
	);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

/* Pill/badge style */
.theme-keynote .pill {
	display: inline-block;
	background-color: var(--accent-color);
	color: #ffffff;
	padding: 0.25em 0.75em;
	border-radius: 100px;
	font-size: 0.8em;
	font-weight: 600;
}

/* Icon placeholder circle */
.theme-keynote .icon-circle {
	width: 64px;
	height: 64px;
	border-radius: 50%;
	background: linear-gradient(135deg, var(--accent-color) 0%, #00c7be 100%);
	display: flex;
	align-items: center;
	justify-content: center;
	color: #ffffff;
	font-size: 1.5rem;
	box-shadow: var(--card-shadow);
}

/* Feature grid for comparison slides */
.theme-keynote .feature-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
	gap: 1.5em;
}

.theme-keynote .feature-item {
	background-color: var(--card-bg);
	box-shadow: var(--card-shadow);
	border-radius: 12px;
	padding: 1.5em;
	transition: box-shadow var(--transition-duration) var(--transition-timing),
		transform var(--transition-duration) var(--transition-timing);
}

.theme-keynote .feature-item:hover {
	box-shadow: var(--card-shadow-hover);
	transform: translateY(-2px);
}
