/**
 * Keynote Theme
 * Professional, polished design with subtle shadows and refined aesthetics.
 * Inspired by Apple Keynote's elegant presentation style.
 */

/* ============================================================================
 * Theme Variables
 * ============================================================================ */

.theme-keynote {
	/* Colors - professional, clean palette */
	--slide-bg: #f5f5f7;
	--text-color: #1d1d1f;
	--muted-color: #86868b;
	--accent-color: #0071e3;
	--link-color: #0071e3;
	--border-color: rgba(0, 0, 0, 0.1);

	/* Code colors - soft contrast */
	--code-bg: rgba(0, 0, 0, 0.04);
	--pre-bg: #1d1d1f;
	--pre-color: #f5f5f7;

	/* Table colors */
	--table-header-bg: rgba(0, 0, 0, 0.03);

	/* Shadows - subtle and professional */
	--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.04);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05),
		0 2px 4px -1px rgba(0, 0, 0, 0.03);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.08),
		0 4px 6px -2px rgba(0, 0, 0, 0.03);
	--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1),
		0 10px 10px -5px rgba(0, 0, 0, 0.02);

	/* Typography - San Francisco system fonts */
	--font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display',
		'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
	--mono-font-family: 'SF Mono', Monaco, 'Cascadia Code', Consolas,
		'Liberation Mono', 'Courier New', monospace;

	/* Font sizes - same scale as other themes */
	--title-font-size: 8rem;
	--h1-font-size: 6rem;
	--h2-font-size: 4rem;
	--h3-font-size: 2.5rem;
	--body-font-size: 2rem;
	--code-font-size: 1.5rem;
	--subtitle-font-size: 2.5rem;
	--section-font-size: 5rem;
	--quote-font-size: 3rem;
	--quote-attribution-size: 1.5rem;
	--stat-font-size: 12rem;
	--stat-label-size: 2rem;
	--table-font-size: 1.75rem;

	/* Spacing */
	--slide-padding: 80px;
	--content-gap: 24px;
	--column-gap: 48px;

	/* Border radius - soft curves */
	--radius-sm: 8px;
	--radius-md: 12px;
	--radius-lg: 16px;
	--radius-xl: 24px;

	/* Animation timing - smooth and elegant */
	--transition-duration: 500ms;
	--transition-timing: cubic-bezier(0.25, 0.1, 0.25, 1);
	--fragment-duration: 450ms;

	/* Apply base typography */
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--slide-bg);
}

/* ============================================================================
 * Base Typography - Clean and refined
 * ============================================================================ */

.theme-keynote h1,
.theme-keynote h2,
.theme-keynote h3,
.theme-keynote h4,
.theme-keynote h5,
.theme-keynote h6 {
	font-family: var(--font-family);
	font-weight: 600;
	letter-spacing: -0.015em;
	line-height: 1.1;
	margin: 0;
}

.theme-keynote h1 {
	font-weight: 700;
	letter-spacing: -0.025em;
}

.theme-keynote p,
.theme-keynote li {
	font-family: var(--font-family);
	font-weight: 400;
	letter-spacing: -0.005em;
	line-height: 1.5;
}

.theme-keynote strong {
	font-weight: 600;
}

.theme-keynote em {
	font-style: italic;
}

/* ============================================================================
 * Code Styling - Elegant with shadows
 * ============================================================================ */

.theme-keynote code {
	font-family: var(--mono-font-family);
	background-color: var(--code-bg);
	padding: 0.15em 0.4em;
	border-radius: var(--radius-sm);
	font-size: 0.9em;
}

.theme-keynote pre {
	font-family: var(--mono-font-family);
	background-color: var(--pre-bg);
	color: var(--pre-color);
	padding: 1.5em 2em;
	border-radius: var(--radius-lg);
	overflow-x: auto;
	line-height: 1.5;
	box-shadow: var(--shadow-lg);
}

.theme-keynote pre code {
	background: none;
	padding: 0;
	border-radius: 0;
	font-size: inherit;
}

/* ============================================================================
 * Links - Subtle and professional
 * ============================================================================ */

.theme-keynote a {
	color: var(--link-color);
	text-decoration: none;
	transition: opacity var(--transition-duration) var(--transition-timing);
}

.theme-keynote a:hover {
	opacity: 0.7;
}

/* ============================================================================
 * Lists - Clean styling
 * ============================================================================ */

.theme-keynote ul,
.theme-keynote ol {
	padding-left: 1.25em;
	margin: 0;
}

.theme-keynote li {
	margin-bottom: 0.5em;
}

.theme-keynote li::marker {
	color: var(--accent-color);
}

/* ============================================================================
 * Blockquotes - Elegant styling
 * ============================================================================ */

.theme-keynote blockquote {
	border-left: 3px solid var(--accent-color);
	padding-left: 1.5em;
	margin: 0;
	font-style: italic;
	color: var(--muted-color);
}

.theme-keynote blockquote p:first-child {
	margin-top: 0;
}

.theme-keynote blockquote p:last-child {
	margin-bottom: 0;
}

/* ============================================================================
 * Tables - Clean and minimal
 * ============================================================================ */

.theme-keynote table {
	width: 100%;
	border-collapse: collapse;
	font-size: var(--table-font-size);
	border-radius: var(--radius-md);
	overflow: hidden;
	box-shadow: var(--shadow-sm);
}

.theme-keynote th,
.theme-keynote td {
	padding: 0.75em 1em;
	text-align: left;
	border-bottom: 1px solid var(--border-color);
}

.theme-keynote th {
	font-weight: 600;
	background-color: var(--table-header-bg);
}

.theme-keynote tr:last-child td {
	border-bottom: none;
}

/* ============================================================================
 * Images - Rounded with shadows
 * ============================================================================ */

.theme-keynote img {
	max-width: 100%;
	height: auto;
	border-radius: var(--radius-lg);
	box-shadow: var(--shadow-lg);
}

/* ============================================================================
 * Layout-specific overrides
 * ============================================================================ */

/* Title layout - Elegant and centered */
.theme-keynote .layout-title h1 {
	font-size: var(--title-font-size);
	font-weight: 700;
	letter-spacing: -0.03em;
	background: linear-gradient(180deg, var(--text-color) 0%, #424245 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.theme-keynote .layout-title p {
	font-size: var(--subtitle-font-size);
	color: var(--muted-color);
	font-weight: 400;
	margin-top: 0.75em;
}

/* Section layout */
.theme-keynote .layout-section h2 {
	font-size: var(--section-font-size);
	font-weight: 600;
	letter-spacing: -0.02em;
}

/* Quote layout - Refined elegance */
.theme-keynote .layout-quote blockquote {
	font-size: var(--quote-font-size);
	border: none;
	padding: 2em;
	color: var(--text-color);
	position: relative;
	background: rgba(0, 0, 0, 0.02);
	border-radius: var(--radius-xl);
}

.theme-keynote .layout-quote blockquote::before {
	content: '\201C';
	font-size: 6rem;
	position: absolute;
	top: 0;
	left: 0.5em;
	color: var(--accent-color);
	opacity: 0.15;
	font-family: Georgia, 'Times New Roman', serif;
	line-height: 1;
}

.theme-keynote .layout-quote blockquote p:last-child {
	font-size: var(--quote-attribution-size);
	font-style: normal;
	color: var(--muted-color);
	margin-top: 1.5em;
}

/* Code focus layout */
.theme-keynote .layout-code-focus pre {
	font-size: calc(var(--code-font-size) * 1.1);
	max-height: 75vh;
	overflow-y: auto;
}

/* Big stat layout - Bold numbers */
.theme-keynote .layout-big-stat strong,
.theme-keynote .layout-big-stat .stat-number {
	font-size: var(--stat-font-size);
	font-weight: 700;
	color: var(--accent-color);
	line-height: 1;
	letter-spacing: -0.04em;
}

.theme-keynote .layout-big-stat p {
	font-size: var(--stat-label-size);
	color: var(--muted-color);
	font-weight: 400;
}

/* Two column layout */
.theme-keynote .layout-two-column {
	position: relative;
}

.theme-keynote .layout-two-column::after {
	content: '';
	position: absolute;
	top: 15%;
	bottom: 15%;
	left: 50%;
	width: 1px;
	background: linear-gradient(
		180deg,
		transparent 0%,
		var(--border-color) 20%,
		var(--border-color) 80%,
		transparent 100%
	);
}

/* ============================================================================
 * Card styling for content grouping
 * ============================================================================ */

.theme-keynote .card {
	background: #ffffff;
	border-radius: var(--radius-lg);
	padding: 1.5em 2em;
	box-shadow: var(--shadow-md);
}

.theme-keynote .card-elevated {
	background: #ffffff;
	border-radius: var(--radius-lg);
	padding: 1.5em 2em;
	box-shadow: var(--shadow-xl);
}

/* ============================================================================
 * Dark variant - Dark mode support
 * ============================================================================ */

.theme-keynote.dark,
.theme-keynote .dark {
	--slide-bg: #1d1d1f;
	--text-color: #f5f5f7;
	--muted-color: #86868b;
	--border-color: rgba(255, 255, 255, 0.1);
	--code-bg: rgba(255, 255, 255, 0.06);
	--pre-bg: #000000;
	--pre-color: #f5f5f7;
	--table-header-bg: rgba(255, 255, 255, 0.04);
	--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
		0 2px 4px -1px rgba(0, 0, 0, 0.2);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4),
		0 4px 6px -2px rgba(0, 0, 0, 0.2);
	--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5),
		0 10px 10px -5px rgba(0, 0, 0, 0.2);
}

.theme-keynote.dark .card,
.theme-keynote .dark .card {
	background: #2d2d2f;
}

.theme-keynote.dark .card-elevated,
.theme-keynote .dark .card-elevated {
	background: #2d2d2f;
}

.theme-keynote.dark .layout-title h1,
.theme-keynote .dark .layout-title h1 {
	background: linear-gradient(180deg, #f5f5f7 0%, #a1a1a6 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.theme-keynote.dark .layout-quote blockquote,
.theme-keynote .dark .layout-quote blockquote {
	background: rgba(255, 255, 255, 0.03);
}

/* ============================================================================
 * Gradient accent variant
 * ============================================================================ */

.theme-keynote.gradient-accent,
.theme-keynote .gradient-accent {
	--accent-color: linear-gradient(135deg, #0071e3 0%, #af52de 100%);
}

.theme-keynote.gradient-accent .layout-big-stat strong,
.theme-keynote.gradient-accent .layout-big-stat .stat-number,
.theme-keynote .gradient-accent .layout-big-stat strong,
.theme-keynote .gradient-accent .layout-big-stat .stat-number {
	background: linear-gradient(135deg, #0071e3 0%, #af52de 100%);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

/* ============================================================================
 * Transition defaults
 * The keynote theme uses smooth fade as the default
 * ============================================================================ */

.theme-keynote .slide-renderer {
	transition: opacity var(--transition-duration) var(--transition-timing);
}

/* ============================================================================
 * Reduced motion support
 * ============================================================================ */

@media (prefers-reduced-motion: reduce) {
	.theme-keynote {
		--transition-duration: 0ms;
		--fragment-duration: 0ms;
	}

	.theme-keynote .slide-renderer {
		transition: none;
	}
}

/* ============================================================================
 * Fragment styling - Smooth and elegant
 * ============================================================================ */

.theme-keynote .fragment {
	transition: opacity var(--fragment-duration) var(--transition-timing),
		transform var(--fragment-duration) var(--transition-timing);
}

.theme-keynote .fragment-hidden {
	opacity: 0;
	transform: translateY(15px);
}

.theme-keynote .fragment-visible {
	opacity: 1;
	transform: translateY(0);
}

/* ============================================================================
 * Progress bar styling - Thin and subtle
 * ============================================================================ */

.theme-keynote .progress-bar {
	background: var(--accent-color);
	height: 2px;
	transition: width var(--transition-duration) var(--transition-timing);
}

.theme-keynote .progress-bar-container {
	background-color: var(--border-color);
}

/* ============================================================================
 * Selection styling
 * ============================================================================ */

.theme-keynote ::selection {
	background-color: var(--accent-color);
	color: #ffffff;
}

/* ============================================================================
 * Utility classes for Keynote-style effects
 * ============================================================================ */

/* Pill badge styling */
.theme-keynote .pill {
	display: inline-block;
	background: var(--accent-color);
	color: #ffffff;
	padding: 0.25em 0.75em;
	border-radius: 100px;
	font-size: 0.8em;
	font-weight: 500;
}

/* Soft highlight */
.theme-keynote .highlight {
	background: linear-gradient(
		180deg,
		transparent 60%,
		rgba(0, 113, 227, 0.2) 60%
	);
}

/* Icon badge for feature highlights */
.theme-keynote .icon-badge {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 3em;
	height: 3em;
	background: var(--accent-color);
	color: #ffffff;
	border-radius: var(--radius-md);
	font-size: 1.5em;
	box-shadow: var(--shadow-md);
}
